<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PohonKita</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="https://ai-public.creatie.ai/gen_page/tailwind-custom.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
    <script src="https://ai-public.creatie.ai/gen_page/tailwind-config.min.js" data-color="#22C55E" data-border-radius="small"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#0B3B2D',
              secondary: '#40C762'
            }
          }
        }
      }
    </script>
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-primary p-4 flex justify-between items-center fixed top-0 w-full z-50 shadow-md">
      <a href="{{ url_for('index') }}" class="sm:pl-14 lg:pl-0 pl-14 md:pl-0"><h1 class="text-white text-2xl font-bold"><span>Pohon</span><span class="text-secondary">Kita</span></h1></a>
      <div class="relative flex items-center gap-5">
        <div class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center cursor-pointer hover:bg-opacity-90 transition-colors shadow-lg" id="dropdownMenuButton">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
        <div class="absolute top-10 right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 hidden" id="dropdownMenu">
          <ul class="py-2">
            <li class="px-4 py-2 text-gray-800 hover:bg-gray-200 cursor-pointer" onclick="logout()">LOGOUT</li>
          </ul>
        </div>
      </div>
    </header>

    <div class="flex min-h-screen pt-[64px]">
      <button id="sidebarToggle" class="fixed top-4 left-4 z-50 p-2 bg-secondary text-white rounded-md md:hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
      <nav id="sidebar" class="w-64 bg-secondary text-white h-screen fixed left-0 z-40 shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out md:translate-x-0">
        <ul class="flex flex-col space-y-2 p-6">
          <li>
            <a href="{{ url_for('dashboard') }}" class="text-xl p-4 rounded-lg block hover:bg-white/10 transition-colors flex items-center space-x-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('plant') }}" class="text-xl p-4 rounded-lg block hover:bg-white/10 transition-colors flex items-center space-x-3">
              <svg class="h-6 w-6" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#fff">
                <path d="M7.5 15V7M7.5 7.5V10.5M7.5 7.5C7.5 5.29086 5.70914 3.5 3.5 3.5H0.5V6.5C0.5 8.70914 2.29086 10.5 4.5 10.5H7.5M7.5 7.5H10.5C12.7091 7.5 14.5 5.70914 14.5 3.5V0.5H11.5C9.29086 0.5 7.5 2.29086 7.5 4.5V7.5ZM7.5 7.5L11.5 3.5M7.5 10.5L3.5 6.5" stroke="#fff"></path>
              </svg>
              <span>Menanam</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('mySubmission') }}" class="text-xl p-4 rounded-lg block hover:bg-white/10 transition-colors flex items-center space-x-3">
              <svg viewBox="0 0 24 24" class="h-6 w-6" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.5 15.5V11.7586H9V14H17V11.7586H18.5V15.5H7.5Z" fill="#ffffff"></path> <path d="M10.9904 10.1133L12.25 8.85369L12.25 12L13.75 12L13.75 8.85369L15.0096 10.1133L16.0702 9.05261L13 5.98237L9.92976 9.05261L10.9904 10.1133Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M5 3H21V19H5V3ZM6.5 4.5H19.5V17.5H6.5V4.5Z" fill="#ffffff"></path> <path d="M2 6V22H18V20.5H3.5V6H2Z" fill="#ffffff"></path>
              </svg>
              <span>Pengajuan</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('leaderboard') }}" class="text-xl p-4 rounded-lg block hover:bg-white/10 transition-colors flex items-center space-x-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
              </svg>
              <span>Leaderboard</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('about') }}" class="text-xl p-4 rounded-lg block hover:bg-white/10 transition-colors flex items-center space-x-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span>About Us</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- Main Content -->
      {% block content %}

      {% endblock %}
    </div>
    <script>
      document.getElementById('dropdownMenuButton').addEventListener('click', function () {
        var dropdown = document.getElementById('dropdownMenu')
        dropdown.classList.toggle('hidden') // Toggle visibility
      })
      
      // Menutup dropdown jika klik di luar
      window.onclick = function (event) {
        if (!event.target.matches('#dropdownMenuButton')) {
          var dropdowns = document.getElementsByClassName('hidden')
          for (const element of dropdowns) {
            element.classList.add('hidden')
          }
        }
      }
      
      function logout() {
        // Logika untuk logout, misalnya redirect ke route logout
        window.location.href = "{{ url_for('logout') }}"
      }
      
      document.getElementById('sidebarToggle').addEventListener('click', function () {
        document.getElementById('sidebar').classList.toggle('-translate-x-full')
      })
    </script>
  </body>
</html>
